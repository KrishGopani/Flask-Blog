{% extends "layout.html" %}
{% block content %}
<div class="content-section">

    <!-- POST means sending data, action specifies the URL to which the form data should be submitted when the user submits the form -->
    <form method="POST" action="">
        <!-- .hidden_tag() is CSRF token or a cross-site request forgery token and when I said earlier that setting our secret key for our application would protect our form against certain attacks well this hidden tag here is part of that protection so add it in but you don't need to worry about the underlying details but you definitely need it -->
        {{ form.hidden_tag() }}



        <fieldset class="form-group">
            <legend class="border-bottom mb-4">Join Today</legend>

            <!-- username -->

            <div class="form-group">
                <!-- form.username.label -> prints the label of username -->
                {{ form.username.label(class="form-control-label") }}

                <!-- ⭐⭐⭐⭐ -->
                <!-- this will get executed when there is error  -->
                {% if form.username.errors %}  
                <!-- this "is-invalid" class is define in bootstrap -->
                {{ form.username(class="form-control form-control-lg is-invalid") }}
                <div class="invalid-feedback">

                    <!-- print all errors -->
                    {% for error in form.username.errors %}
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
                {% else %}
                {{ form.username(class="form-control form-control-lg") }}
                {% endif %}
            </div>

            <!-- email -->

            <div class="form-group">
                {{ form.email.label(class="form-control-label") }}
                {% if form.email.errors %}
                {{ form.email(class="form-control form-control-lg is-invalid") }}
                <div class="invalid-feedback">
                    {% for error in form.email.errors %}
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
                {% else %}
                {{ form.email(class="form-control form-control-lg") }}
                {% endif %}
            </div>

            <!-- password -->

            <div class="form-group">
                {{ form.password.label(class="form-control-label") }}
                {% if form.password.errors %}
                {{ form.password(class="form-control form-control-lg is-invalid") }}
                <div class="invalid-feedback">
                    {% for error in form.password.errors %}
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
                {% else %}
                {{ form.password(class="form-control form-control-lg") }}
                {% endif %}
            </div>

            <!-- confirm_password -->

            <div class="form-group">
                {{ form.confirm_password.label(class="form-control-label") }}
                {% if form.confirm_password.errors %}
                {{ form.confirm_password(class="form-control form-control-lg is-invalid") }}
                <div class="invalid-feedback">
                    {% for error in form.confirm_password.errors %}
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
                {% else %}
                {{ form.confirm_password(class="form-control form-control-lg") }}
                {% endif %}
            </div>
        </fieldset>

        <!-- submit  -->

        <div class="form-group">
            {{ form.submit(class="btn btn-outline-info") }}
        </div>
    </form>



</div>
<div class="border-top pt-3">
    <small class="text-muted"> 
    <!-- value for "url_for" is not the route "/login" its the name of the function that is "login" -->
        Already Have An Account? <a class="ml-2" href="{{ url_for('login') }}">Sign In</a>
    </small>
</div>
{% endblock content %}